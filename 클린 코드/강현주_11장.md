## 11장 시스템

- 복잡성은 죽음이다. 개발자에게서 생기를 앗아가며, 제품을 계획하고 제작하고 테스트하기 어렵게 만든다.
- 시스템 수준에서도 깨끗함을 유지하는 방법 (추상화 + 모듈화)

***

### 1. 시스템 제작과 시스템 사용을 분리하라

- 관심사 분리
- 애플리케이션 객체를 제작하고 의존성을 서로 연결하는 준비과정 + 준비과정 이후에 이어지는 런타임 로직
- 초기화 지연(계산 지연) 
```
if (service == null)
  service = new MyServiceImpl();
return service
```
- 실제로 필요할 때까지 객체를 생성하지 않는다. --> 불필요한 부하X --> 애플리케이션 시작시간 단축
- BUT...
- 
***

### 2. 경계 살피고 익히기

- 학습 테스트 : 곧바로 우리쪽 코드를 작성해 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 코드를 익히자.
- 프로그램에서 사용하려는 방식대로 외부 API를 호출

***

### 3. 학습 테스트는 공짜 이상이다.

- 학습 테스트에 드는 비용은 없다. 어쨌든 API를 배워야 하므로...
- 학습 테스트는 패키지가 예상대로 도는지 검증한다.
- 경계 테스트가 있다면 패키지의 새 버전으로 이전하기 쉬워진다.

***

### 4. 깨끗한 경계

- 소프트웨어 설계가 우수하다면 변경하는데 많은 투자와 재작업이 필요하다.
- 경계에 위치하는 코드는 깔끔히 분리한다. 또한 기대치를 정의하는 테스트 케이스도 작성한다.
- 이쪽 코드에서 외부 패키지를 세세하게 알아야 할 필요가 없다.
- 통제가 불가능한 외부 패키지에 의존하는 대신 통제가 가능한 우리 코드에 의존하는 편이 훨씬 좋다.
- 외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리하자.
- 코드 가독성, 일관성이 좋아지며 의존성이 줄어든다.
