## 8장 경계

- 외부 코드를 깔끔하게 통합하는 법

***

### 1. 외부 코드 사용하기

- 인터페이스 제공자 : 적용성을 최대한 넓히길 원함
- 인터페이스 사용자 : 자신의 요구에 집중하는 인터페이스를 바람
- 경계 인터페이스를 내부 코드에 직접 연결하지 않고, 감싸기 기법을 사용하여 내부 하나의 클래스에서만 외부 API 를 호출하고, 나머지 내부 클래스에서는 내부 API 를 호출한다. 수정이 필요한 경우 내부 클래스 하나만 수정하면 된다.

***

### 2. 경계 살피고 익히기

- 학습 테스트 : 곧바로 우리쪽 코드를 작성해 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 코드를 익히자.
- 프로그램에서 사용하려는 방식대로 외부 API를 호출

***

### 3. 학습 테스트는 공짜 이상이다.

- 학습 테스트에 드는 비용은 없다. 어쨌든 API를 배워야 하므로...
- 학습 테스트는 패키지가 예상대로 도는지 검증한다.
- 경계 테스트가 있다면 패키지의 새 버전으로 이전하기 쉬워진다.

***

### 4. 깨끗한 경계

- 소프트웨어 설계가 우수하다면 변경하는데 많은 투자와 재작업이 필요하다.
- 경계에 위치하는 코드는 깔끔히 분리한다. 또한 기대치를 정의하는 테스트 케이스도 작성한다.
- 이쪽 코드에서 외부 패키지를 세세하게 알아야 할 필요가 없다.
- 통제가 불가능한 외부 패키지에 의존하는 대신 통제가 가능한 우리 코드에 의존하는 편이 훨씬 좋다.
- 외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리하자.
- 코드 가독성, 일관성이 좋아지며 의존성이 줄어든다.
